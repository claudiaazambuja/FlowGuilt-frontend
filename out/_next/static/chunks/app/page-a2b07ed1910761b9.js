(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8171:function(e,t,o){Promise.resolve().then(o.bind(o,5827)),Promise.resolve().then(o.bind(o,1199))},1199:function(e,t,o){"use strict";o.d(t,{WeatherAdaptiveBackground:function(){return i}});var r=o(7437),a=o(2265);let n={id:"default",backgroundColor:"#0f172a",overlayColor:"rgba(15, 23, 42, 0.55)",image:"backgrounds/clear-night.svg",textColor:"#f8fafc",description:"Aguardando dados meteorol\xf3gicos"},l={"clear-day":{id:"clear-day",backgroundColor:"#38bdf8",overlayColor:"rgba(14, 116, 144, 0.45)",image:"backgrounds/clear-day.svg",textColor:"#082f49",description:"C\xe9u limpo"},"clear-night":{id:"clear-night",backgroundColor:"#111827",overlayColor:"rgba(15, 23, 42, 0.65)",image:"backgrounds/clear-night.svg",textColor:"#e2e8f0",description:"Noite limpa"},cloudy:{id:"cloudy",backgroundColor:"#cbd5f5",overlayColor:"rgba(30, 64, 175, 0.35)",image:"backgrounds/cloudy.svg",textColor:"#0f172a",description:"Nublado"},fog:{id:"fog",backgroundColor:"#cbd5f5",overlayColor:"rgba(71, 85, 105, 0.35)",image:"backgrounds/fog.svg",textColor:"#0f172a",description:"Neblina"},rainy:{id:"rainy",backgroundColor:"#1e293b",overlayColor:"rgba(30, 64, 175, 0.55)",image:"backgrounds/rainy.svg",textColor:"#e2e8f0",description:"Chuva"},snowy:{id:"snowy",backgroundColor:"#f8fafc",overlayColor:"rgba(59, 130, 246, 0.35)",image:"backgrounds/snowy.svg",textColor:"#0f172a",description:"Neve"},storm:{id:"storm",backgroundColor:"#020617",overlayColor:"rgba(147, 197, 253, 0.25)",image:"backgrounds/storm.svg",textColor:"#e0f2fe",description:"Tempestade"}};async function s(e,t){try{var o,r;let a=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t),{headers:{"User-Agent":"FlowGuiltPomodoro/1.0"}});if(!a.ok)throw Error("Falha ao buscar endere\xe7o");let n=await a.json(),l=n.address;if(!l)return null!==(o=n.display_name)&&void 0!==o?o:"Localiza\xe7\xe3o desconhecida";let s=l.city||l.town||l.village||l.municipality||l.state,i=l.country;if(s&&i)return"".concat(s,", ").concat(i);return null!==(r=n.display_name)&&void 0!==r?r:"Localiza\xe7\xe3o detectada"}catch(e){return console.error("Erro ao resolver cidade",e),"Localiza\xe7\xe3o desconhecida"}}function i(e){let{children:t}=e,[o,i]=(0,a.useState)(n),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=!1;if(!("geolocation"in navigator)){m("Geolocaliza\xe7\xe3o n\xe3o suportada no dispositivo");return}return navigator.geolocation.getCurrentPosition(async t=>{try{var o;let{latitude:r,longitude:a}=t.coords,n=await fetch("https://api.open-meteo.com/v1/forecast?latitude=".concat(r,"&longitude=").concat(a,"&current_weather=true&timezone=auto"));if(!n.ok)throw Error("Falha ao consultar previs\xe3o do tempo");let c=await n.json();if(!c.current_weather)throw Error("Resposta meteorol\xf3gica incompleta");let{temperature:u,weathercode:f,is_day:g}=c.current_weather,x=(o=1===g,[0].includes(f)?o?l["clear-day"]:l["clear-night"]:[1,2,3].includes(f)?o?l.cloudy:l["clear-night"]:[45,48].includes(f)?l.fog:[51,53,55,56,57,61,63,65,66,67,80,81,82].includes(f)?l.rainy:[71,73,75,77,85,86].includes(f)?l.snowy:[95,96,99].includes(f)?l.storm:o?l["clear-day"]:l["clear-night"]),[b]=await Promise.all([s(r,a)]);e||(i(x),d({cityLabel:b,temperature:u,description:0===f?"C\xe9u limpo":1===f?"Predominantemente limpo":2===f?"Parcialmente nublado":3===f?"Nublado":[45,48].includes(f)?"Neblina":[51,53,55].includes(f)?"Garoa":[56,57].includes(f)?"Garoa congelante":[61,63,65].includes(f)?"Chuva":[66,67].includes(f)?"Chuva congelante":[71,73,75,77,85,86].includes(f)?"Neve":[80,81,82].includes(f)?"Aguaceiros":[95,96,99].includes(f)?"Tempestade":"Condi\xe7\xe3o desconhecida"}),m(null))}catch(t){console.error(t),e||(m("N\xe3o foi poss\xedvel obter o clima da sua regi\xe3o"),i(n))}},e=>{console.error(e),m("Permita o acesso \xe0 localiza\xe7\xe3o para personalizar o tema")},{enableHighAccuracy:!1,timeout:1e4,maximumAge:36e5}),()=>{e=!0}},[]);let f=(0,a.useMemo)(()=>({backgroundColor:o.overlayColor}),[o.overlayColor]),g=(0,a.useMemo)(()=>({backgroundColor:o.backgroundColor,backgroundImage:"url(".concat(o.image,")"),backgroundSize:"cover",backgroundPosition:"center"}),[o.backgroundColor,o.image]);return(0,r.jsx)("div",{className:"min-h-screen w-full transition-colors duration-700 ease-out",style:g,children:(0,r.jsxs)("div",{className:"relative min-h-screen w-full",children:[(0,r.jsx)("div",{className:"absolute inset-0",style:f}),(0,r.jsxs)("div",{className:"relative z-10 flex min-h-screen flex-col",children:[(0,r.jsx)("div",{className:"flex items-start justify-end px-6 pt-6",children:(0,r.jsx)("div",{className:"rounded-lg bg-black/20 px-4 py-3 text-right text-sm backdrop-blur",style:{color:o.textColor},children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"font-semibold",children:c.cityLabel}),(0,r.jsxs)("p",{children:[c.description,null!=c.temperature&&(0,r.jsxs)("span",{className:"ml-2 font-medium",children:[c.temperature.toFixed(1),"\xb0C"]})]})]}):u?(0,r.jsx)("p",{className:"font-medium",children:u}):(0,r.jsx)("p",{className:"font-medium",children:"Personalizando experi\xeancia..."})})}),(0,r.jsx)("main",{className:"flex flex-1 items-center justify-center p-6",children:t})]})]})})}},5827:function(e,t,o){"use strict";o.d(t,{default:function(){return g}});var r=o(7437),a=o(2265);function n(e){let{className:t="",...o}=e;return(0,r.jsx)("div",{className:"rounded-xl shadow-xl ".concat(t),...o})}function l(e){let{className:t="",...o}=e;return(0,r.jsx)("div",{className:"p-6 sm:p-8 ".concat(t),...o})}let s=new Set(["INPUT","TEXTAREA","SELECT"]);function i(e){let{variant:t="primary",className:o="",...a}=e;return(0,r.jsx)("button",{className:"".concat("px-4 py-2 rounded-md text-sm font-medium focus:outline-none focus:ring-2 transition"," ").concat("secondary"===t?"bg-[#232323] hover:brightness-110 text-zinc-200 border-0 focus:ring-[#6C3BF4]":"bg-[#1DB954] hover:brightness-110 text-black focus:ring-[#1DB954]"," ").concat(o),...a})}function c(e){let{running:t,onStartPause:o,onRestart:a}=e,n=t?"Pause":"Start";return(0,r.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-3 sm:flex-row sm:items-center sm:justify-center",children:[(0,r.jsx)(i,{type:"button",onClick:o,className:"w-full sm:w-auto ".concat(t?"bg-[#6c3bf4] text-white hover:brightness-110 focus:ring-[#6c3bf4]":"bg-[#1db954] text-black hover:brightness-110 focus:ring-[#1db954]"),"aria-label":"".concat(n," timer"),title:"Espa\xe7o: Start/Pause",children:n}),(0,r.jsx)(i,{type:"button",variant:"secondary",onClick:a,className:"w-full bg-[#1a1a1a] text-zinc-200 hover:brightness-110 focus:ring-[#6c3bf4] sm:w-auto","aria-label":"Restart timer",title:"R: Restart",children:"Restart"})]})}let d=[{mode:"pomodoro",label:"Pomodoro \xb7 25m"},{mode:"short",label:"Short Break \xb7 5m"},{mode:"long",label:"Long Break \xb7 15m"},{mode:"custom",label:"Custom"}];function u(e){let{mode:t,onSelect:o}=e;return(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 md:flex md:flex-wrap",children:d.map(e=>{let a=e.mode===t,n=a?"bg-[#1db954] text-black hover:brightness-110":"bg-[#1a1a1a] text-zinc-200 hover:brightness-110";return(0,r.jsx)(i,{type:"button",variant:a?"primary":"secondary",onClick:()=>o(e.mode),"aria-pressed":a,className:"w-full md:flex-1 ".concat(n),children:e.label},e.mode)})})}function m(e){let{seconds:t,total:o}=e,a=360*Math.min(1,Math.max(0,o>0?1-t/o:0));return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{className:"relative grid place-items-center rounded-full",style:{width:"clamp(200px, 70vw, 320px)",height:"clamp(200px, 70vw, 320px)"},"aria-label":"Tempo restante",children:[(0,r.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 rounded-full",style:{background:"conic-gradient(#1db954 0deg ".concat(a,"deg, #6c3bf4 ").concat(a,"deg 360deg)"),filter:"drop-shadow(0 0 24px rgba(108,59,244,0.45))",transition:"background 0.3s ease"}}),(0,r.jsx)("div",{className:"absolute inset-[12px] rounded-full border border-[#1f1f1f]",style:{background:"#0c0c0c"}}),(0,r.jsx)("div",{className:"relative text-4xl font-bold tabular-nums sm:text-5xl",role:"timer","aria-live":"polite",children:"".concat(String(Math.floor(t/60)).padStart(2,"0"),":").concat(String(t%60).padStart(2,"0"))})]}),(0,r.jsx)("p",{className:"text-xs text-zinc-400",children:"Espa\xe7o = Start/Pause \xb7 R = Restart"})]})}let f={pomodoro:1500,short:300,long:900};function g(){let[e,t]=(0,a.useState)("pomodoro"),[o,i]=(0,a.useState)(String(30)),d=(0,a.useMemo)(()=>{let e=Number(o);return!Number.isFinite(e)||e<=0?30:Math.max(1,Math.min(180,Math.floor(e)))},[o]),g=(0,a.useMemo)(()=>"custom"===e?60*d:f[e],[e,d]),{secondsLeft:x,isRunning:b,startPause:h,restart:p}=function(e){let[t,o]=(0,a.useState)(e),[r,n]=(0,a.useState)(!1),l=(0,a.useRef)(null);(0,a.useEffect)(()=>{o(e),n(!1),l.current=null},[e]),(0,a.useEffect)(()=>{let e;if(!r){l.current=null;return}let t=r=>{if(null==l.current)l.current=r;else{let e=r-l.current;if(e>=1e3){let t=Math.floor(e/1e3);t>0&&(o(e=>Math.max(0,e-t)),l.current=r-e%1e3)}}e=window.requestAnimationFrame(t)};return e=window.requestAnimationFrame(t),()=>{window.cancelAnimationFrame(e)}},[r]),(0,a.useEffect)(()=>{0===t&&r&&n(!1)},[r,t]);let s=(0,a.useCallback)(()=>{n(r=>r||0!==t?!r:(o(e),l.current=null,!0))},[e,t]);return{secondsLeft:t,isRunning:r,startPause:s,restart:(0,a.useCallback)(()=>{o(e),n(!1),l.current=null},[e])}}(g);!function(e){let{onRestart:t,onStartPause:o}=e;(0,a.useEffect)(()=>{let e=e=>{var r;let a=e.target,n=null!==(r=null==a?void 0:a.tagName)&&void 0!==r?r:"";if(!((null==a?void 0:a.isContentEditable)||s.has(n))){if("Space"===e.code){e.preventDefault(),o();return}"r"===e.key.toLowerCase()&&(e.preventDefault(),t())}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t,o])}({onRestart:p,onStartPause:h});let v=e=>{/^\d*$/.test(e)&&i(e)};return(0,r.jsx)(n,{className:"w-full max-w-2xl border border-[#1f1f1f] bg-[#131313] text-[#f2f2f2] shadow-[0_0_40px_rgba(108,59,244,0.25)]",children:(0,r.jsxs)(l,{className:"flex flex-col gap-6 sm:gap-8",children:[(0,r.jsxs)("header",{className:"flex flex-col items-center gap-2 text-center sm:flex-row sm:items-center sm:justify-between sm:text-left",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold tracking-tight sm:text-3xl",children:"FlowGuilt Pomodoro"}),(0,r.jsx)("span",{className:"text-xs text-zinc-400 sm:text-sm",children:"Frontend only MVP"})]}),(0,r.jsx)(u,{mode:e,onSelect:t}),"custom"===e&&(0,r.jsxs)("div",{className:"flex flex-col items-stretch gap-3 sm:flex-row sm:flex-wrap sm:items-end",children:[(0,r.jsx)("label",{htmlFor:"customMinutes",className:"text-sm font-medium text-zinc-300",children:"Minutos personalizados"}),(0,r.jsx)("input",{id:"customMinutes",type:"text",inputMode:"numeric",pattern:"[0-9]*",min:1,max:180,value:o,onChange:e=>v(e.target.value),onBlur:()=>{i(String(d))},className:"w-full rounded-md border border-[#2a2a2a] bg-[#0e0e0e] px-3 py-2 text-right text-lg font-semibold text-[#f2f2f2] outline-none transition focus:border-[#6c3bf4] focus:ring-2 focus:ring-[#6c3bf4]/40 sm:w-28"}),(0,r.jsxs)("span",{className:"text-xs text-zinc-500",children:[1,"-",180," minutos"]})]}),(0,r.jsx)(m,{seconds:x,total:g}),(0,r.jsx)(c,{running:b,onStartPause:h,onRestart:p})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8171)}),_N_E=e.O()}]);