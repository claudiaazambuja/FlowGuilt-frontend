(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4670:function(e,t,n){Promise.resolve().then(n.bind(n,5827))},5827:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var r=n(7437),s=n(2265);function a(e){let{className:t="",...n}=e;return(0,r.jsx)("div",{className:"rounded-xl shadow-xl ".concat(t),...n})}function o(e){let{className:t="",...n}=e;return(0,r.jsx)("div",{className:"p-6 sm:p-8 ".concat(t),...n})}let l=new Set(["INPUT","TEXTAREA","SELECT"]);function i(e){let{variant:t="primary",className:n="",...s}=e;return(0,r.jsx)("button",{className:"".concat("px-4 py-2 rounded-md text-sm font-medium focus:outline-none focus:ring-2 transition"," ").concat("secondary"===t?"bg-[#232323] hover:brightness-110 text-zinc-200 border-0 focus:ring-[#6C3BF4]":"bg-[#1DB954] hover:brightness-110 text-black focus:ring-[#1DB954]"," ").concat(n),...s})}function c(e){let{running:t,onStartPause:n,onRestart:s}=e,a=t?"Pause":"Start";return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,r.jsx)(i,{type:"button",onClick:n,className:t?"bg-[#6c3bf4] text-white hover:brightness-110 focus:ring-[#6c3bf4]":"bg-[#1db954] text-black hover:brightness-110 focus:ring-[#1db954]","aria-label":"".concat(a," timer"),title:"Espa\xe7o: Start/Pause",children:a}),(0,r.jsx)(i,{type:"button",variant:"secondary",onClick:s,className:"bg-[#1a1a1a] text-zinc-200 hover:brightness-110 focus:ring-[#6c3bf4]","aria-label":"Restart timer",title:"R: Restart",children:"Restart"})]})}let u=[{mode:"pomodoro",label:"Pomodoro \xb7 25m"},{mode:"short",label:"Short Break \xb7 5m"},{mode:"long",label:"Long Break \xb7 15m"},{mode:"custom",label:"Custom"}];function d(e){let{mode:t,onSelect:n}=e;return(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap",children:u.map(e=>{let s=e.mode===t;return(0,r.jsx)(i,{type:"button",variant:s?"primary":"secondary",onClick:()=>n(e.mode),"aria-pressed":s,className:s?"bg-[#1db954] text-black hover:brightness-110":"bg-[#1a1a1a] text-zinc-200 hover:brightness-110",children:e.label},e.mode)})})}function m(e){let{seconds:t,total:n}=e,s=360*Math.min(1,Math.max(0,n>0?1-t/n:0));return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,r.jsxs)("div",{className:"relative grid place-items-center rounded-full",style:{width:240,height:240},"aria-label":"Tempo restante",children:[(0,r.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 rounded-full",style:{background:"conic-gradient(#1db954 0deg ".concat(s,"deg, #6c3bf4 ").concat(s,"deg 360deg)"),filter:"drop-shadow(0 0 24px rgba(108,59,244,0.45))",transition:"background 0.3s ease"}}),(0,r.jsx)("div",{className:"absolute inset-[12px] rounded-full border border-[#1f1f1f]",style:{background:"#0c0c0c"}}),(0,r.jsx)("div",{className:"relative text-5xl font-bold tabular-nums",role:"timer","aria-live":"polite",children:"".concat(String(Math.floor(t/60)).padStart(2,"0"),":").concat(String(t%60).padStart(2,"0"))})]}),(0,r.jsx)("p",{className:"text-xs text-zinc-400",children:"Espa\xe7o = Start/Pause \xb7 R = Restart"})]})}let f={pomodoro:1500,short:300,long:900};function x(){let[e,t]=(0,s.useState)("pomodoro"),[n,i]=(0,s.useState)(String(30)),u=(0,s.useMemo)(()=>{let e=Number(n);return!Number.isFinite(e)||e<=0?30:Math.max(1,Math.min(180,Math.floor(e)))},[n]),x=(0,s.useMemo)(()=>"custom"===e?60*u:f[e],[e,u]),{secondsLeft:b,isRunning:h,startPause:g,restart:p}=function(e){let[t,n]=(0,s.useState)(e),[r,a]=(0,s.useState)(!1),o=(0,s.useRef)(null);(0,s.useEffect)(()=>{n(e),a(!1),o.current=null},[e]),(0,s.useEffect)(()=>{let e;if(!r){o.current=null;return}let t=r=>{if(null==o.current)o.current=r;else{let e=r-o.current;if(e>=1e3){let t=Math.floor(e/1e3);t>0&&(n(e=>Math.max(0,e-t)),o.current=r-e%1e3)}}e=window.requestAnimationFrame(t)};return e=window.requestAnimationFrame(t),()=>{window.cancelAnimationFrame(e)}},[r]),(0,s.useEffect)(()=>{0===t&&r&&a(!1)},[r,t]);let l=(0,s.useCallback)(()=>{a(r=>r||0!==t?!r:(n(e),o.current=null,!0))},[e,t]);return{secondsLeft:t,isRunning:r,startPause:l,restart:(0,s.useCallback)(()=>{n(e),a(!1),o.current=null},[e])}}(x);!function(e){let{onRestart:t,onStartPause:n}=e;(0,s.useEffect)(()=>{let e=e=>{var r;let s=e.target,a=null!==(r=null==s?void 0:s.tagName)&&void 0!==r?r:"";if(!((null==s?void 0:s.isContentEditable)||l.has(a))){if("Space"===e.code){e.preventDefault(),n();return}"r"===e.key.toLowerCase()&&(e.preventDefault(),t())}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t,n])}({onRestart:p,onStartPause:g});let v=e=>{/^\d*$/.test(e)&&i(e)};return(0,r.jsx)(a,{className:"w-full max-w-xl border border-[#1f1f1f] bg-[#131313] text-[#f2f2f2] shadow-[0_0_40px_rgba(108,59,244,0.25)]",children:(0,r.jsxs)(o,{className:"flex flex-col gap-6",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-semibold tracking-tight",children:"FlowGuilt Pomodoro"}),(0,r.jsx)("span",{className:"text-xs sm:text-sm text-zinc-400",children:"Frontend only MVP"})]}),(0,r.jsx)(d,{mode:e,onSelect:t}),"custom"===e&&(0,r.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,r.jsx)("label",{htmlFor:"customMinutes",className:"text-sm font-medium text-zinc-300",children:"Minutos personalizados"}),(0,r.jsx)("input",{id:"customMinutes",type:"text",inputMode:"numeric",pattern:"[0-9]*",min:1,max:180,value:n,onChange:e=>v(e.target.value),onBlur:()=>{i(String(u))},className:"w-28 rounded-md border border-[#2a2a2a] bg-[#0e0e0e] px-3 py-2 text-right text-lg font-semibold text-[#f2f2f2] outline-none transition focus:border-[#6c3bf4] focus:ring-2 focus:ring-[#6c3bf4]/40"}),(0,r.jsxs)("span",{className:"text-xs text-zinc-500",children:[1,"-",180," minutos"]})]}),(0,r.jsx)(m,{seconds:b,total:x}),(0,r.jsx)(c,{running:h,onStartPause:g,onRestart:p})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4670)}),_N_E=e.O()}]);